# StreamFlow - Production Environment Variables for Vercel
# Copy these to Vercel Dashboard > Settings > Environment Variables

# ============================================================================
# DATABASE
# ============================================================================
DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require&pgbouncer=true&connection_limit=1"

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# Provider Admin (Environment-based auth)
PROVIDER_ADMIN_EMAIL="admin@yourcompany.com"
PROVIDER_ADMIN_PASSWORD_HASH="$2b$10$..." # Generate with: npm run setpwd
PROVIDER_ADMIN_TOTP_SECRET="BASE32SECRET" # Generate with: npm run gen-key

# Developer Account (Environment-based auth)
DEVELOPER_EMAIL="dev@yourcompany.com"
DEVELOPER_PASSWORD="SecureDevPassword123!"

# JWT Configuration
JWT_SECRET="your-super-secret-jwt-key-min-32-chars"
JWT_EXPIRES_IN="7d"

# Encryption
MASTER_ENC_KEY="your-master-encryption-key-32-chars-min"

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Disable dev/test users in production
DISABLE_DEV_USERS="true"

# Environment detection
NODE_ENV="production"
VERCEL_ENV="production"

# ============================================================================
# EXTERNAL SERVICES (Optional)
# ============================================================================

# Stripe (if billing enabled)
STRIPE_SECRET_KEY="sk_live_..."
STRIPE_PUBLISHABLE_KEY="pk_live_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Twilio (if SMS enabled)
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_FROM_NUMBER="+1XXXXXXXXXX"

# SendGrid (if email enabled)
SENDGRID_API_KEY="SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
SENDGRID_FROM_EMAIL="noreply@yourdomain.com"

# OpenAI (if AI features enabled)
OPENAI_API_KEY="sk-..."

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Base URL (your Vercel deployment URL)
NEXT_PUBLIC_APP_URL="https://your-app.vercel.app"
APP_BASE_URL="https://your-app.vercel.app"

# Logging
LOG_LEVEL="info" # debug, info, warn, error

# Rate Limiting
RATE_LIMIT_ENABLED="true"
RATE_LIMIT_MAX_REQUESTS="100"
RATE_LIMIT_WINDOW_MS="60000"

# ============================================================================
# VERCEL-SPECIFIC
# ============================================================================

# These are automatically set by Vercel, no need to configure:
# VERCEL="1"
# VERCEL_ENV="production" | "preview" | "development"
# VERCEL_URL="your-deployment-url.vercel.app"
# VERCEL_REGION="iad1"
# VERCEL_GIT_COMMIT_SHA="abc123..."
# VERCEL_GIT_COMMIT_MESSAGE="..."
# VERCEL_GIT_COMMIT_AUTHOR_NAME="..."

# ============================================================================
# BUILD OPTIMIZATION
# ============================================================================

# Node.js memory limit for build (Vercel default: 3GB)
NODE_OPTIONS="--max-old-space-size=3072"

# ============================================================================
# NOTES
# ============================================================================

# 1. Never commit actual secrets to git
# 2. Use Vercel Dashboard to set environment variables
# 3. Use different values for preview vs production
# 4. Rotate secrets regularly
# 5. Use Vercel's built-in secret management for sensitive data

# ============================================================================
# QUICK SETUP COMMANDS
# ============================================================================

# Set all environment variables at once:
# vercel env add DATABASE_URL
# vercel env add PROVIDER_ADMIN_EMAIL
# vercel env add PROVIDER_ADMIN_PASSWORD_HASH
# vercel env add PROVIDER_ADMIN_TOTP_SECRET
# vercel env add DEVELOPER_EMAIL
# vercel env add DEVELOPER_PASSWORD
# vercel env add JWT_SECRET
# vercel env add MASTER_ENC_KEY
# vercel env add DISABLE_DEV_USERS

# Or use Vercel CLI to pull from .env.local:
# vercel env pull .env.production.local

